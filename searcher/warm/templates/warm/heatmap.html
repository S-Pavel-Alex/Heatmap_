<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>{{ title }}</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="https://api-maps.yandex.ru/2.1/?apikey=Your API key&lang=en_US" type="text/javascript">
    </script>
       <script src="https://yastatic.net/s3/mapsapi-jslibs/heatmap/0.0.1/heatmap.min.js" type="text/javascript"></script>
       <script>
        ymaps.ready(init);


        function init(){
            var myMap = new ymaps.Map("map", {
                center: {{ coordinate_city }},   {# Координаты центра карты широта долгота по дефолту#}
                zoom: 10  {# Масштаб самой карты от 0 до 19#}
            });

         gradients = [{
                    0.1: 'rgba(200, 100, 255, 0.7)',
                    0.2: 'rgba(255, 255, 255, 0.8)',
                    0.7: 'rgba(234, 128, 255, 0.9)',
                    1.0: 'rgba(162, 36, 25, 1)'
                },{
                    0.1: 'rgba(100, 150, 255, 0.7)',
                    0.2: 'rgba(255, 255, 255, 0.8)',
                    0.7: 'rgba(234, 128, 255, 0.9)',
                    1.0: 'rgba(162, 36, 25, 1)'
                },{
                    0.1: 'rgba(128, 255, 100, 0.7)',
                    0.2: 'rgba(255, 255, 0, 0.8)',
                    0.7: 'rgba(234, 72, 58, 0.9)',
                    1.0: 'rgba(162, 36, 25, 1)'
                },{
                    0.1: 'rgba(255, 255, 0, 0.7)',
                    0.2: 'rgba(255, 255, 0, 0.8)',
                    0.7: 'rgba(234, 72, 58, 0.9)',
                    1.0: 'rgba(128, 36, 25, 1)'
                },{
                    0.1: 'rgba(162, 36, 25, 0.7)',
                    0.2: 'rgba(234, 72, 58, 0.8)',
                    0.7: 'rgba(255, 255, 0, 0.9)',
                    1.0: 'rgba(128, 255, 0, 1)'
                }]
        ymaps.modules.require(['Heatmap'], function (Heatmap) {
     var data_very_small = {{ coordinates_very_small }},
         heatmap_very_small = new Heatmap(data_very_small, {
                    gradient: gradients[0]});


     var data_small = {{ coordinates_small }},
         heatmap_small = new Heatmap(data_small, {
                    gradient: gradients[1]});


     var data_medium = {{ coordinates_medium }},
         heatmap_medium = new Heatmap(data_medium, {
                    gradient: gradients[2]});


     var data_medium_plus = {{ coordinates_medium_plus }},
         heatmap_medium_plus = new Heatmap(data_medium_plus, {
                    gradient: gradients[3]});


     var data_hard = {{ coordinates_high }},
         heatmap_hard = new Heatmap(data_hard, {
                    gradient: gradients[4]});
     heatmap_hard.setMap(myMap);
          heatmap_very_small.setMap(myMap);
          heatmap_small.setMap(myMap);
          heatmap_medium.setMap(myMap);
          heatmap_medium_plus.setMap(myMap);

});

}
    </script>
</head>

<body>
    <div id="map" style="width: 1200px; height: 550px"></div>

</body>

</html>